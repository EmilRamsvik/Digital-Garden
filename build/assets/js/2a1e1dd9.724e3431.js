"use strict";(self.webpackChunkdigital_garden=self.webpackChunkdigital_garden||[]).push([[62512],{51556:(e,a,s)=>{s.r(a),s.d(a,{assets:()=>d,contentTitle:()=>i,default:()=>h,frontMatter:()=>r,metadata:()=>l,toc:()=>o});var n=s(85893),t=s(11151);const r={created:"2023-12-04T13:14",updated:"2024-01-06T15:04",tags:["article","digital-garden","postgresql","database","database/-relational-database","database/sql"],parent:["[[Database]]"],Finished:!1},i="Postgres",l={id:"Database/Postgres",title:"Postgres",description:"Open-source database.",source:"@site/docs/Database/Postgres.md",sourceDirName:"Database",slug:"/Database/Postgres",permalink:"/docs/Database/Postgres",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Database/Postgres.md",tags:[{label:"article",permalink:"/docs/tags/article"},{label:"digital-garden",permalink:"/docs/tags/digital-garden"},{label:"postgresql",permalink:"/docs/tags/postgresql"},{label:"database",permalink:"/docs/tags/database"},{label:"database/-relational-database",permalink:"/docs/tags/database-relational-database"},{label:"database/sql",permalink:"/docs/tags/database-sql"}],version:"current",frontMatter:{created:"2023-12-04T13:14",updated:"2024-01-06T15:04",tags:["article","digital-garden","postgresql","database","database/-relational-database","database/sql"],parent:["[[Database]]"],Finished:!1},sidebar:"gardenSidebar",previous:{title:"Database",permalink:"/docs/Database/"},next:{title:"Snowflake",permalink:"/docs/Database/Snowflake"}},d={},o=[{value:"JSON and JSONB in Postgres",id:"json-and-jsonb-in-postgres",level:3},{value:"Links",id:"links",level:2}];function c(e){const a={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.h1,{id:"postgres",children:"Postgres"}),"\n",(0,n.jsx)(a.p,{children:'Open-source database.\nI prefer Postgres for my "only" SQL work as it is very powerful and can be amended a lot. Knowing databases is a super skill.'}),"\n",(0,n.jsx)(a.h3,{id:"json-and-jsonb-in-postgres",children:"JSON and JSONB in Postgres"}),"\n",(0,n.jsx)(a.p,{children:"PostgreSQL offers native support for JSON data types. This feature allows you to store, query, and manipulate JSON data directly in PostgreSQL."}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:"JSON"}),": Stores data as text; parsing is done every time you fetch the data."]}),"\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:"JSONB"}),": Stores data in a binary format; parsing is done during insert, making reads faster."]}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:"Inserting JSON Data"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-sql",children:'INSERT INTO my_table (id, json_data)\nVALUES (1, \'{"key": "value", "array": [1, 2, 3]}\');\n'})}),"\n",(0,n.jsx)(a.p,{children:"Querying JSON Data"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-sql",children:"SELECT json_data->>'key' FROM my_table WHERE id = 1;\n"})}),"\n",(0,n.jsxs)(a.p,{children:["This query will return ",(0,n.jsx)(a.code,{children:"'value'"}),"."]}),"\n",(0,n.jsxs)(a.p,{children:[(0,n.jsx)(a.strong,{children:"Advanced Queries"}),"\nYou can also perform complex queries on JSON data."]}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-sql",children:"SELECT json_data->'array'->>1 FROM my_table WHERE id = 1;\n"})}),"\n",(0,n.jsxs)(a.p,{children:["This query will return ",(0,n.jsx)(a.code,{children:"2"}),' because it accesses the second element in the "array" field.\nPostgreSQL provides a variety of JSON functions like ',(0,n.jsx)(a.code,{children:"json_array_length"}),", ",(0,n.jsx)(a.code,{children:"json_each"}),", and more."]}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-sql",children:"SELECT json_array_length(json_data->'array') FROM my_table WHERE id = 1;\n"})}),"\n",(0,n.jsxs)(a.p,{children:["This query will return ",(0,n.jsx)(a.code,{children:"3"}),", the length of the array."]}),"\n",(0,n.jsx)(a.p,{children:"You can create indexes on JSONB columns for faster query performance."}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-sql",children:"CREATE INDEX idx_json_data ON my_table USING gin (json_data);\n"})}),"\n",(0,n.jsx)(a.p,{children:"This feature is particularly useful for applications that need to store and query JSON data efficiently, without having to rely on external data stores or serialization/deserialization of JSON data."}),"\n",(0,n.jsx)(a.h2,{id:"links",children:"Links"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:(0,n.jsx)(a.a,{href:"https://avestura.dev/blog/explaining-the-postgres-meme",children:"Postgres database lingo explained"})}),"\n"]}),"\n",(0,n.jsx)(a.h1,{id:"links-1",children:"Links"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{}),"\n"]}),"\n",(0,n.jsx)(a.h1,{id:"thoughts",children:"Thoughts"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{}),"\n"]})]})}function h(e={}){const{wrapper:a}={...(0,t.a)(),...e.components};return a?(0,n.jsx)(a,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},11151:(e,a,s)=>{s.d(a,{Z:()=>l,a:()=>i});var n=s(67294);const t={},r=n.createContext(t);function i(e){const a=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function l(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),n.createElement(r.Provider,{value:a},e.children)}}}]);